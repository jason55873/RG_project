{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Employee List" %}{% endblock %}

{% block content %}
<h2>{% trans "Employee List" %}</h2>
<div class="mb-3">
  <a href="{% url 'employee_create' %}" class="btn btn-success">{% trans "Add Employee" %}</a>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>{% trans "ID" %}</th>
      <th>{% trans "Name" %}</th>
      <th>{% trans "Gender" %}</th>
      <th>{% trans "English Name" %}</th>
      <th>{% trans "Actions" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for emp in employees %}
    <tr>
      <td>{{ emp.employee_id }}</td>
      <td>{{ emp.name_chinese }}</td>
      <td>{{ emp.get_gender_display }}</td>
      <td>{{ emp.name_english }}</td>
      <td>
        <a href="{% url 'employee_update' emp.pk %}" class="btn btn-sm btn-primary">{% trans "Edit" %}</a>
        <form method="post"
              action="{% url 'employee_delete' emp.pk %}"
              style="display:inline;"
              onsubmit="return confirm('{% blocktrans %}Are you sure you want to delete this employee?{% endblocktrans %}')"
          {% csrf_token %}
          <button type="submit" class="btn btn-sm btn-danger">{% trans "Delete" %}</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}